{"ast":null,"code":"import _classCallCheck from\"/Users/nicolas/Portafolio/goodservice/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/nicolas/Portafolio/goodservice/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/nicolas/Portafolio/goodservice/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/nicolas/Portafolio/goodservice/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);var _super=_createSuper(Login);function Login(){var _this;_classCallCheck(this,Login);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={credentials:{username:'',password:''}};_this.register=function(event){fetch('http://127.0.0.1:8000/api/users/',{method:'POST',headers:{'Content-type':'application/json'},body:JSON.stringify(_this.state.credentials)}).then(function(data){return data.json();}).then(function(data){console.log(data.token);}).catch(function(error){return console.error(error);});};_this.login=function(event){fetch('http://127.0.0.1:8000/auth/',{method:'POST',headers:{'Content-type':'application/json'},body:JSON.stringify(_this.state.credentials)}).then(function(data){return data.json();}).then(function(data){console.log(data.token);window.location.href=\"./Home\";}).catch(function(error){return console.error(error);});};_this.inputChanged=function(event){var cred=_this.state.credentials;cred[event.target.name]=event.target.value;_this.setState({credentials:cred});};return _this;}_createClass(Login,[{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"App\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Login\"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"label\",null,\"Username:\",/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"username\",value:this.state.credentials.username,onChange:this.inputChanged})),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"label\",null,\"Pass:\",/*#__PURE__*/React.createElement(\"input\",{type:\"password\",name:\"password\",value:this.state.credentials.password,onChange:this.inputChanged})),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"input\",{type:\"submit\",value:\"Login\",onClick:this.login}),/*#__PURE__*/React.createElement(\"input\",{type:\"submit\",value:\"Register\",onClick:this.register}));}}]);return Login;}(Component);export default Login;","map":{"version":3,"sources":["/Users/nicolas/Portafolio/goodservice/frontend/src/Componentes/Login.js"],"names":["React","Component","Login","state","credentials","username","password","register","event","fetch","method","headers","body","JSON","stringify","then","data","json","console","log","token","catch","error","login","window","location","href","inputChanged","cred","target","name","value","setState"],"mappings":"ooBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,C,GAEMC,CAAAA,K,uTAEFC,K,CAAQ,CACJC,WAAW,CAAE,CAACC,QAAQ,CAAE,EAAX,CAAeC,QAAQ,CAAE,EAAzB,CADT,C,OAIRC,Q,CAAW,SAAAC,KAAK,CAAI,CAChBC,KAAK,CAAC,kCAAD,CAAqC,CACtCC,MAAM,CAAE,MAD8B,CAEtCC,OAAO,CAAE,CAAC,eAAgB,kBAAjB,CAF6B,CAGtCC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,MAAKX,KAAL,CAAWC,WAA1B,CAHgC,CAArC,CAAL,CAKCW,IALD,CAKO,SAAAC,IAAI,QAAIA,CAAAA,IAAI,CAACC,IAAL,EAAJ,EALX,EAMCF,IAND,CAOI,SAAAC,IAAI,CAAI,CACJE,OAAO,CAACC,GAAR,CAAYH,IAAI,CAACI,KAAjB,EACH,CATL,EAUEC,KAVF,CAUS,SAAAC,KAAK,QAAIJ,CAAAA,OAAO,CAACI,KAAR,CAAcA,KAAd,CAAJ,EAVd,EAWH,C,OAEDC,K,CAAQ,SAAAf,KAAK,CAAI,CACbC,KAAK,CAAC,6BAAD,CAAgC,CACjCC,MAAM,CAAE,MADyB,CAEjCC,OAAO,CAAE,CAAC,eAAgB,kBAAjB,CAFwB,CAGjCC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,MAAKX,KAAL,CAAWC,WAA1B,CAH2B,CAAhC,CAAL,CAKCW,IALD,CAKO,SAAAC,IAAI,QAAIA,CAAAA,IAAI,CAACC,IAAL,EAAJ,EALX,EAMCF,IAND,CAOI,SAAAC,IAAI,CAAI,CACJE,OAAO,CAACC,GAAR,CAAYH,IAAI,CAACI,KAAjB,EACAI,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAqB,QAArB,CACH,CAVL,EAWEL,KAXF,CAWS,SAAAC,KAAK,QAAIJ,CAAAA,OAAO,CAACI,KAAR,CAAcA,KAAd,CAAJ,EAXd,EAYH,C,OAEDK,Y,CAAe,SAAAnB,KAAK,CAAI,CACpB,GAAMoB,CAAAA,IAAI,CAAG,MAAKzB,KAAL,CAAWC,WAAxB,CACAwB,IAAI,CAACpB,KAAK,CAACqB,MAAN,CAAaC,IAAd,CAAJ,CAA0BtB,KAAK,CAACqB,MAAN,CAAaE,KAAvC,CACA,MAAKC,QAAL,CAAc,CAAC5B,WAAW,CAAEwB,IAAd,CAAd,EACH,C,wEAEQ,CACT,mBACA,2BAAK,SAAS,CAAC,KAAf,eACG,sCADH,cAEI,8BAFJ,cAGG,0DAEI,6BAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,UAAxB,CACA,KAAK,CAAE,KAAKzB,KAAL,CAAWC,WAAX,CAAuBC,QAD9B,CAEA,QAAQ,CAAE,KAAKsB,YAFf,EAFJ,CAHH,cASG,8BATH,cAUG,sDAEI,6BAAO,IAAI,CAAC,UAAZ,CAAuB,IAAI,CAAC,UAA5B,CACA,KAAK,CAAE,KAAKxB,KAAL,CAAWC,WAAX,CAAuBE,QAD9B,CAEA,QAAQ,CAAE,KAAKqB,YAFf,EAFJ,CAVH,cAgBG,8BAhBH,cAiBG,6BAAO,IAAI,CAAC,QAAZ,CAAqB,KAAK,CAAC,OAA3B,CAAmC,OAAO,CAAE,KAAKJ,KAAjD,EAjBH,cAkBG,6BAAO,IAAI,CAAC,QAAZ,CAAqB,KAAK,CAAC,UAA3B,CAAsC,OAAO,CAAE,KAAKhB,QAApD,EAlBH,CADA,CAsBD,C,mBAhEiBN,S,EAkEpB,cAAeC,CAAAA,KAAf","sourcesContent":["import React, { Component } from 'react';\n\nclass Login extends Component { \n\n    state = {\n        credentials: {username: '', password: ''}\n    }\n\n    register = event => {\n        fetch('http://127.0.0.1:8000/api/users/', {\n            method: 'POST',\n            headers: {'Content-type': 'application/json'},\n            body: JSON.stringify(this.state.credentials)\n        })\n        .then( data => data.json())\n        .then(\n            data => {\n                console.log(data.token);\n            }\n        ).catch( error => console.error(error))\n    }\n\n    login = event => {\n        fetch('http://127.0.0.1:8000/auth/', {\n            method: 'POST',\n            headers: {'Content-type': 'application/json'},\n            body: JSON.stringify(this.state.credentials)\n        })\n        .then( data => data.json())\n        .then(\n            data => {\n                console.log(data.token);\n                window.location.href=\"./Home\";\n            }\n        ).catch( error => console.error(error))\n    }\n\n    inputChanged = event => {\n        const cred = this.state.credentials;\n        cred[event.target.name] = event.target.value;\n        this.setState({credentials: cred});\n    }\n\n    render() { \n    return ( \n    <div className=\"App\">\n       <h1>Login</h1>\n        <br/>\n       <label>\n           Username:\n           <input type=\"text\" name=\"username\" \n           value={this.state.credentials.username}\n           onChange={this.inputChanged}></input>\n       </label>\n       <br/>\n       <label>\n           Pass:\n           <input type=\"password\" name=\"password\"\n           value={this.state.credentials.password}\n           onChange={this.inputChanged}></input>\n       </label>\n       <br/>\n       <input type=\"submit\" value=\"Login\" onClick={this.login}></input>\n       <input type=\"submit\" value=\"Register\" onClick={this.register}></input>\n     </div>\n    ); \n  } \n} \nexport default Login;"]},"metadata":{},"sourceType":"module"}